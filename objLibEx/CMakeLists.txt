##
# Object Library Example component configuration.
# It includes the main() function and creates an Object library that can be used 
# to create executable.

cmake_minimum_required(VERSION 3.16)

# The name of the library
project(objLibEx)

# Add Object library 
add_library(${PROJECT_NAME} OBJECT
    src/Main.cpp
)

# Link required libraries
target_link_libraries(${PROJECT_NAME} PUBLIC libEx)

# Add include directories of this component
target_include_directories(${PROJECT_NAME} PUBLIC 
    ${PROJECT_BINARY_DIR}/inc
    ${PROJECT_SOURCE_DIR}/inc
)

# Add directory containing the coverage files generated by gcov
set(coverage_files_dir 
    ${coverage_files_dir} 
    ${PROJECT_BINARY_DIR}/CMakeFiles/${PROJECT_NAME}.dir/src
    PARENT_SCOPE)

# Generate Version header file
configure_file(inc/Version.h.in ${PROJECT_BINARY_DIR}/inc/Version.h)
